<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: neo4j-parser</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: neo4j-parser</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        

        
            

    

    <h4 class="name" id="module:neo4j-parser"><span class="type-signature"></span>(require("neo4j-parser"))<span class="signature">(opts)</span><span class="type-signature"> &rarr; {<a href="module-neo4j-parser.html#.RETURN_CODES">module:neo4j-parser.RETURN_CODES</a>}</span></h4>

    
    <p class="summary">Parse a Neo4J RestAPI JSON response</p>
    



<div class="description">
    <p>This function takes a Neo4J reply from the restful service, parses it, and
sends back the parsed data either in parsed form mentioned below or raw form.</p>
<p>The response is parsed into a native javascript object that's a bit
easier and more intuitive than how other similar libraries will parse.
The object contains 1 key for each returned column, each of those keys
contains another object which contains all the returned values under that
column. If the values are a key/value pair their inserted as-is. If its
another type their inserted under an incrementing index number.</p>
<p>In the case of key/value pairs where multiple keys of the same name exist
the newer keys will be suffixed with an incrementing number.</p>
<pre class="prettyprint source"><code>{
    column1:
    {
        key: value,
        key2: value2,
        0: `sring`,
        1: [Array]
    },

    column2:
    {
        key: value
    }
}</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-neo4j-parser.html#~parserConfigObj">module:neo4j-parser~parserConfigObj</a></span>


            
            </td>

            

            

            <td class="description last"><p>Options to configure parser</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li><a href="http://codepen.io/wiseguy12851">John Mothershed</a></li>
        </ul>
    </dd>
    

    
    <dt class="tag-copyright">Copyright:</dt>
    <dd class="tag-copyright"><ul class="dummy"><li>2015 John Mothershed</li></ul></dd>
    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li><a href="http://www.apache.org/licenses/LICENSE-2.0">Apache-2.0</a></li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-neo4j-parser.html#.RETURN_CODES">module:neo4j-parser.RETURN_CODES</a></span>


    </dd>
</dl>

    



        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li><a href="https://www.npmjs.com/package/lodash">lodash</a></li>
        </ul>
    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".RETURN_CODES"><span class="type-signature">(static, readonly) </span>RETURN_CODES<span class="type-signature"> :<a href="global.html#number">number</a></span></h4>




<div class="description">
    <p>Return codes for the parser</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="global.html#number">number</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>SUCCESS</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#number">number</a></span>


            
            </td>

            

            

            <td class="description last"><p>The parsing went smoothly without any errors or being manually halted</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ERROR</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#number">number</a></span>


            
            </td>

            

            

            <td class="description last"><p>An error occured during processing, most likely due to the database declaring
a transaction error but could also be a communication error or some other
error</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>MANUAL_STOP</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#number">number</a></span>


            
            </td>

            

            

            <td class="description last"><p>The parsing was stopped mnaually/programatically by returning false</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line90">line 90</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~isRawCb"><span class="type-signature"></span>isRawCb<span class="signature">(index)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Simple callback, this cb is called once for each query to question whether
or not raw mode should be enabled for it individually. returning a truthy
value will enable raw mode for this query only, falsy value will not issue
raw mode. If raw mode is globally enabled then it always takes presedence
and this cb won't be called.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#number">number</a></span>


            
            </td>

            

            

            <td class="description last"><p>Query index in question</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
                
<h4 class="name" id="~parsedResultObj">parsedResultObj</h4>




<div class="description">
    <p>Parsed Result Object</p>
<p>This won't be defined at all if an error occured</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="global.html#object">object</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#object">object</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>The complete parsed response for this query if raw mode is disabled</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rawResult</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#object">object</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>The JSON object for this query in object form but unparsed, the object is
strcutured exactly how the database sent it back</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rawBody</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#string">string</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last"><p>The raw / unparsed JSON result</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>firstColumn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#object">object</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>The first parsed column of the result if raw mode is disabled</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>firstValue</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#object">object</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last"><p>The first parsed value of the first parsed column if raw mode is disabled</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                

    

    <h4 class="name" id="~parserCb"><span class="type-signature"></span>parserCb<span class="signature">(error<span class="signature-attributes">opt</span>, index<span class="signature-attributes">opt</span>, parseObj<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Callback for parse progress including errors, explicitly returning false
will end the parsing early nytime its called except for errors in which case
its already ended.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#any">any</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Any error that may crop up including query errors. Its worth noting that with
query errors, theres no way to know which query caused the error, so any of
the queries could be at fault.</p>
<p>The parsing has halted at this point.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#number">number</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The query index which matches the index sent to the database, if an error
occurs this will not be defined</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parseObj</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-neo4j-parser.html#~parsedResultObj">module:neo4j-parser~parsedResultObj</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The parsed object based on parameters given and end query, if an error
occurs this will not be defined</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
                
<h4 class="name" id="~parserConfigObj">parserConfigObj</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="global.html#object">object</a></span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#string">string</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The JSON Rest API result</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-neo4j-parser.html#~parserCb">module:neo4j-parser~parserCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    function(){}
                
                </td>
            

            <td class="description last"><p>The callback which will be called several times on errors and parse progression</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>raw</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#boolean">boolean</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Global raw mode, all queries will skip parsing and essentially just breakdown
the json query to an object issuing the cb for each query with its part of the
json object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isRaw</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-neo4j-parser.html#~isRawCb">module:neo4j-parser~isRawCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    () => {}
                
                </td>
            

            <td class="description last"><p>Cb for determining whether an individual query should be processed as raw mode</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_neo4j-parser_build_index.js.html">node_modules/neo4j-parser/build/index.js</a>, <a href="node_modules_neo4j-parser_build_index.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-cypher-tools.html">cypher-tools</a></li><li><a href="module-neo4j-parser.html">neo4j-parser</a></li><li><a href="module-neo4j-query-object.html">neo4j-query-object</a></li><li><a href="module-simple-neo4j.html">simple-neo4j</a></li></ul><h3>Classes</h3><ul><li><a href="module-cypher-tools.html">cypher-tools</a></li><li><a href="module-neo4j-query-object.html">neo4j-query-object</a></li><li><a href="module-simple-neo4j.html">simple-neo4j</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sun Jul 09 2017 08:36:52 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>